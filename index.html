<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>shivani singh</title>
  <link rel="icon" href="images/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="style.css">
  <style>
    #trail-canvas {
      position: fixed; inset: 0;
      z-index: 0;
      pointer-events: none;
    }
    #controls-container {
      position: fixed; top: 12px; right: 12px; z-index: 3;
    }
  </style>
</head>
<body>
  <canvas id="trail-canvas"></canvas>

  <div id="controls-container">
    <button id="theme-toggle"> ⏾ </button>
  </div>

  <h1>Hi, I'm Shivani</h1>
  <p>
    A digital designer with an aptitude for analytical thinking and an
    <button class="reveal highlight-yellow" onclick="expandOnce(this, 'play')">appetite for play</button><span id="play" class="inline-reveal"> — side projects and ideas in progress <a href="https://shivaniest.com" target="_blank">live here</a></span>.
    Currently shaping tech for social impact at
    <button class="reveal highlight-blue" onclick="expandOnce(this, 'unicef')">UNICEF Innovation</button><span id="unicef" class="inline-reveal"> where I guide the digital <a href="https://unicef-office-of-innovation-1.gitbook.io/unicef-toolkits/HlT4xFWyVhjMRNHG534K/product-design" target="_blank">product design</a> of the startups we invest in,
    and facilitate <button class="reveal highlight-blue" onclick="expandOnce(this, 'collab')">collaboration</button> across functions <span id="collab" class="inline-reveal">
    — like in this <a href="https://docs.google.com/presentation/d/e/2PACX-1vQlLTQlfvFx2dAqkBc4L7SoIxsV97rL5pg7tHB_gHclwawwWI400lErSsE3TWydCVhdCnXbkJTfBuS9/pub?start=true&loop=false&delayms=60000" target="_blank">design sprint</a> where we reimagined a needs assessment process</span></span>.
    I think of my practice as a way to bridge intention and outcome.
    Previously, I was a designer at
    <button class="reveal highlight-pink" onclick="expandOnce(this, 'sf')">Salesforce</button> in San Francisco<span id="sf" class="inline-reveal"> — explore my work in this <a href="https://docs.google.com/presentation/d/e/2PACX-1vSIAnrA-YdMMIYAmLWARmflhZkR6fjkmb--3mA7UqHA36ywzY6SGtTjLynAr35MLmpYWI_fdFcazv4S/pub?start=false&loop=false&delayms=600000" target="_blank">overview</a></span>.
    With a background in graphic design, I’ve also worked in visual communication and 
    <button class="reveal highlight-purple" onclick="expandOnce(this, 'ads')">advertising</button><span id="ads" class="inline-reveal">, crafting <a href="https://singh.work/logofolio">brand identities</a> for over five years</span>.
    <br><br>I am an alumnus of the National Institute of Design, India and
    <button class="reveal highlight-green" onclick="expandOnce(this, 'CCA')">California College of the Arts</button>, San Francisco.
    <span id="CCA" class="inline-reveal">From my time as a student, I’m especially fond of <a href="https://singh.work/case-study.html">this project</a> with an industrial arts school in Oakland. </span>
  </p>

  <p class="note">Born in India, I'm currently based in Stockholm. If you're curious to know more, peruse my <a href="https://singh.work/resume.html" target="_blank">resume</a> or shoot me an <a href="mailto:25.shivanisingh@gmail.com" target="_blank">email</a>.</p>

  <p class="note" style="font-size: 0.8em; opacity: 0.5;">This website was built on github.com with help from ChatGPT • Last updated on Sep 17, 2025 </p>

  <script>
    // -------------------------
    // Highlight colors & state
    // -------------------------
    const highlightColors = {
      'highlight-yellow': '#FDFB8C',
      'highlight-blue':   '#D6F5FF',
      'highlight-pink':   '#FFDDEE',
      'highlight-green':  '#DDFFAA',
      'highlight-purple': '#EEDDFF'
    };

    let drawing = false;
    let currentColor = null;

    // -------------------------
    // Canvas (DPR-aware)
    // -------------------------
    const canvas = document.getElementById('trail-canvas');
    const ctx = canvas.getContext('2d', { alpha: true });
    let dpr = Math.max(1, window.devicePixelRatio || 1);

    function resizeCanvas() {
      // Clear on resize (simpler & faster; can preserve if you want)
      canvas.width = Math.floor(window.innerWidth * dpr);
      canvas.height = Math.floor(window.innerHeight * dpr);
      canvas.style.width = window.innerWidth + 'px';
      canvas.style.height = window.innerHeight + 'px';
      ctx.setTransform(1,0,0,1,0,0);
      ctx.scale(dpr, dpr);
      ctx.lineCap = 'round';
      ctx.lineJoin = 'round';
      applyBlendMode();
    }
    function applyBlendMode() {
      // Theme-aware blend for natural highlighter look
      const dark = document.body.classList.contains('dark-mode');
      ctx.globalCompositeOperation = dark ? 'screen' : 'multiply';
    }
    resizeCanvas();
    window.addEventListener('resize', () => { dpr = Math.max(1, window.devicePixelRatio || 1); resizeCanvas(); });

    // -------------------------
    // Reveal handler (arms brush)
    // -------------------------
    function expandOnce(buttonEl, contentId) {
      const contentEl = document.getElementById(contentId);
      contentEl.classList.add('visible');
      buttonEl.disabled = true;

      // set color from clicked highlight + start drawing
      for (const cn of buttonEl.classList) {
        if (cn.startsWith('highlight-')) { currentColor = highlightColors[cn]; break; }
      }
      drawing = true;
    }

    // -------------------------
    // Painter (soft highlighter)
    // -------------------------
    let last = null;
    let pending = null;
    let paintingScheduled = false;

    function schedulePaint() {
      if (paintingScheduled) return;
      paintingScheduled = true;
      requestAnimationFrame(paintStep);
    }

    function paintStep() {
      paintingScheduled = false;
      if (!drawing || !currentColor || !pending) return;

      const { x, y } = pending;
      if (!last) { last = { x, y }; return; }

      // Core stroke: thin + subtle
      ctx.strokeStyle = hexToRgba(currentColor, 0.14); // lower alpha
      ctx.lineWidth = 10;                               // slimmer core
      ctx.beginPath();
      ctx.moveTo(last.x, last.y);
      ctx.lineTo(x, y);
      ctx.stroke();

      // Soft halo: very faint & wider
      ctx.strokeStyle = hexToRgba(currentColor, 0.05);
      ctx.lineWidth = 20;
      ctx.beginPath();
      ctx.moveTo(last.x, last.y);
      ctx.lineTo(x, y);
      ctx.stroke();

      // Micro-speckle for texture (super lightweight)
      speckle(x, y, currentColor);

      last = { x, y };
    }

    function speckle(x, y, hex) {
      const rgb = hexToRgb(hex) || {r:0,g:0,b:0};
      ctx.fillStyle = `rgba(${rgb.r},${rgb.g},${rgb.b},0.03)`;
      for (let i = 0; i < 6; i++) {
        const ang = Math.random() * Math.PI * 2;
        const r = Math.random() * 6;
        const px = x + Math.cos(ang) * r;
        const py = y + Math.sin(ang) * r;
        ctx.fillRect(px, py, 1, 1);
      }
    }

    window.addEventListener('pointermove', (e) => {
      pending = { x: e.clientX, y: e.clientY };
      schedulePaint();
    }, { passive: true });

    window.addEventListener('pointerdown', (e) => { last = { x: e.clientX, y: e.clientY }; }, { passive: true });
    window.addEventListener('mouseleave', () => { last = null; });
    window.addEventListener('pointerleave', () => { last = null; });

    // -------------------------
    // Pause drawing (Esc / click outside highlights & theme toggle ignored)
    // -------------------------
    window.addEventListener('click', (e) => {
      const onHighlight = e.target.closest && e.target.closest('.reveal');
      const onTheme = e.target.closest && e.target.closest('#theme-toggle');
      if (!onHighlight && !onTheme) drawing = false;
    });
    window.addEventListener('keydown', (e) => { if (e.key === 'Escape') drawing = false; });

    // -------------------------
    // Helpers
    // -------------------------
    function hexToRgba(hex, a=1) {
      const rgb = hexToRgb(hex) || { r:0,g:0,b:0 };
      return `rgba(${rgb.r},${rgb.g},${rgb.b},${a})`;
    }
    function hexToRgb(hex) {
      if (!hex) return null;
      const h = hex.replace('#','').trim();
      if (h.length === 3) {
        return { r: parseInt(h[0]+h[0],16), g: parseInt(h[1]+h[1],16), b: parseInt(h[2]+h[2],16) };
      }
      if (h.length === 6) {
        return { r: parseInt(h.slice(0,2),16), g: parseInt(h.slice(2,4),16), b: parseInt(h.slice(4,6),16) };
      }
      return null;
    }

    // -------------------------
    // Theme toggle (also updates blend mode)
    // -------------------------
    const themeToggle = document.getElementById('theme-toggle');
    const body = document.body;
    function setTheme(theme) {
      if (theme === 'dark') {
        body.classList.add('dark-mode'); localStorage.setItem('theme','dark'); themeToggle.textContent='☀';
      } else {
        body.classList.remove('dark-mode'); localStorage.setItem('theme','light'); themeToggle.textContent='⏾';
      }
      applyBlendMode(); // <- reapply correct blending
    }
    window.addEventListener('DOMContentLoaded', () => { setTheme(localStorage.getItem('theme') || 'light'); });
    themeToggle.addEventListener('click', () => { setTheme(body.classList.contains('dark-mode') ? 'light' : 'dark'); });
  </script>
</body>
</html>
