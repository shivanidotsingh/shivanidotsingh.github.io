<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>shivani singh</title>

  <!-- Emoji/text favicon -->
  <link rel="icon" 
        href="data:image/svg+xml,
        <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'>
          <text y='0.9em' font-size='90'> ✐ </text>
        </svg>">

  <link rel="stylesheet" href="style.css">
  <style>
    /* Canvas fixed behind the page; doesn’t affect layout */
    #trail-canvas { position: fixed; inset: 0; z-index: 0; pointer-events: none; }
    main#page { position: relative; z-index: 1; }
  </style>
</head>
<body>
  <!-- Behind-the-text canvas (desktop) -->
  <canvas id="trail-canvas"></canvas>

  <!-- Mobile dots container -->
  <div id="random-dots-container"></div>

  <!-- CONTENT -->
  <main id="page">
    <h1 style="margin-top:75px;">Hi I'm Shivani</h1>
    <p>
      A designer with an aptitude for analytical thinking and an
      <button class="reveal highlight-yellow" onclick="expandOnce(this, 'play')">appetite for play</button><span id="play" class="inline-reveal"> — side projects and ideas in progress <a href="https://shivaniest.com" target="_blank">live here</a></span>.
      Currently shaping technology for social impact at
      <button class="reveal highlight-blue" onclick="expandOnce(this, 'unicef')">UNICEF Innovation</button><span id="unicef" class="inline-reveal"> where I guide the digital <a href="https://unicef-office-of-innovation-1.gitbook.io/unicef-toolkits/HlT4xFWyVhjMRNHG534K/product-design" target="_blank">product design</a> of solutions we invest in,
        and facilitate creative <button class="reveal highlight-blue" onclick="expandOnce(this, 'collab')">collaboration</button><span id="collab" class="inline-reveal">
          — like this <a href="https://docs.google.com/presentation/d/e/2PACX-1vQlLTQlfvFx2dAqkBc4L7SoIxsV97rL5pg7tHB_gHclwawwWI400lErSsE3TWydCVhdCnXbkJTfBuS9/pub?start=true&loop=false&delayms=60000" target="_blank">design sprint</a> where we reimagined a needs assessment process</span></span>.
      I think of my practice as a way to bridge intention and outcome.
      Previously, I was a designer at
      <button class="reveal highlight-pink" onclick="expandOnce(this, 'sf')">Salesforce</button>
      in San Francisco
      <span id="sf" class="inline-reveal"> — explore my work in this 
        <a href="https://docs.google.com/presentation/d/e/2PACX-1vSIAnrA-YdMMIYAmLWARmflhZkR6fjkmb--3mA7UqHA36ywzY6SGtTjLynAr35MLmpYWI_fdFcazv4S/pub?start=false&loop=false&delayms=600000" target="_blank">overview</a>
      </span>.
      With a background in graphic design, I’ve also worked in visual communication and 
      <button class="reveal highlight-purple" onclick="expandOnce(this, 'ads')">advertising</button>
      <span id="ads" class="inline-reveal">, crafting 
        <a href="https://singh.work/logofolio">brand identities</a> for over five years
      </span>.
      
      <br><br>Born in India and based in Stockholm, I'm an alumnus of the National Institute of Design and 
      <button class="reveal highlight-green" onclick="expandOnce(this, 'CCA')">California College of the Arts</button>.
      <span id="CCA" class="inline-reveal">From my time as a student, I’m especially fond of 
        <a href="https://singh.work/case-study.html">this project</a> for which we collaborated an industrial arts school in West Oakland.
      </span> See more on my <a href="resume.html">résumé</a>.
    </p>
    <p class="note" style="font-size: 0.8em; opacity: 0.5;">This website is built on github.com • Last updated on Sep 25, 2025 </p>
  </main>

  <script>
    // Env detect
    const isMobile = /Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent);

    // Highlight colors
    const highlightColors = {
      'highlight-yellow': '#FDFB8C',
      'highlight-blue':   '#D6F5FF',
      'highlight-pink':   '#FFDDEE',
      'highlight-green':  '#DDFFAA',
      'highlight-purple': '#EEDDFF'
    };

    // Desktop trail state
    let drawing = false;
    let currentColor = null;

    // Reveal handler
    function expandOnce(buttonEl, contentId) {
      const contentEl = document.getElementById(contentId);
      contentEl.classList.add('visible');
      buttonEl.disabled = true;

      for (const cn of buttonEl.classList) {
        if (cn.startsWith('highlight-')) { currentColor = highlightColors[cn]; break; }
      }

      if (isMobile) {
        spawnStaticDot(currentColor);
      } else {
        drawing = true;
      }
    }

    // Mobile: static dots
    function spawnStaticDot(color) {
      const cont = document.getElementById('random-dots-container');
      const dot = document.createElement('span');
      dot.className = 'collected-dot';
      dot.style.backgroundColor = color;
      const size = 16;
      const x = Math.random() * (window.innerWidth - size);
      const y = Math.random() * (window.innerHeight - size);
      dot.style.left = x + 'px';
      dot.style.top  = y + 'px';
      cont.appendChild(dot);
    }

    // Desktop: trail canvas
    const canvas = document.getElementById('trail-canvas');
    const ctx = canvas.getContext('2d');
    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      ctx.lineCap = 'round';
      ctx.lineJoin = 'round';
      ctx.globalCompositeOperation = 'multiply';
    }
    resizeCanvas();
    window.addEventListener('resize', resizeCanvas);

    let last = null, pending = null, paintingScheduled = false;
    function schedulePaint(){ if(!paintingScheduled){ paintingScheduled = true; requestAnimationFrame(paintStep); } }
    function paintStep(){
      paintingScheduled = false;
      if (!drawing || !currentColor || !pending || isMobile) return;
      const { x, y } = pending;
      if (!last) { last = { x, y }; return; }

      // core stroke
      ctx.strokeStyle = hexToRgba(currentColor, 0.14);
      ctx.lineWidth = 10;
      ctx.beginPath(); ctx.moveTo(last.x,last.y); ctx.lineTo(x,y); ctx.stroke();

      // soft halo
      ctx.strokeStyle = hexToRgba(currentColor, 0.05);
      ctx.lineWidth = 20;
      ctx.beginPath(); ctx.moveTo(last.x,last.y); ctx.lineTo(x,y); ctx.stroke();

      last = { x, y };
    }

    if (!isMobile) {
      window.addEventListener('pointermove', e => { pending = {x:e.clientX, y:e.clientY}; schedulePaint(); }, {passive:true});
      window.addEventListener('pointerdown', e => { last = {x:e.clientX, y:e.clientY}; }, {passive:true});
      window.addEventListener('mouseleave', () => { last = null; });
      window.addEventListener('pointerleave', () => { last = null; });
      window.addEventListener('click', (e) => {
        const onHighlight = e.target.closest && e.target.closest('.reveal');
        if (!onHighlight) drawing = false;
      });
      window.addEventListener('keydown', (e) => { if (e.key === 'Escape') drawing = false; });
    }

    function hexToRgba(hex,a=1){
      const h=hex.replace('#','');
      const r=parseInt(h.length===3?h[0]+h[0]:h.slice(0,2),16);
      const g=parseInt(h.length===3?h[1]+h[1]:h.slice(2,4),16);
      const b=parseInt(h.length===3?h[2]+h[2]:h.slice(4,6),16);
      return `rgba(${r},${g},${b},${a})`;
    }
  </script>
</body>
</html>
