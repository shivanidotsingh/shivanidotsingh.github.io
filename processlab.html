<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>process lab</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: 'Courier New', monospace;
  background: #fff;
  overflow: hidden;
}

.grid-bg {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: 
    repeating-linear-gradient(0deg, #e0e0e0 0, #e0e0e0 1px, transparent 1px, transparent 16px),
    repeating-linear-gradient(90deg, #e0e0e0 0, #e0e0e0 1px, transparent 1px, transparent 16px);
  pointer-events: none;
  z-index: 1000;
}

.container {
  position: relative;
  width: 100vw;
  height: 100vh;
}

.image-box {
  position: absolute;
  background: #000;
  cursor: pointer;
  overflow: hidden;
}

.image-box img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.main {
  border: 2px solid #000;
  z-index: 10;
}

.thumb {
  border: 1px solid #666;
}

.info {
  position: fixed;
  bottom: 16px;
  left: 16px;
  font-size: 11px;
  color: #666;
  background: #fff;
  padding: 8px;
  border: 1px solid #ccc;
  z-index: 1001;
}
</style>
</head>
<body>

<div class="grid-bg"></div>
<div class="container" id="container"></div>
<div class="info">click thumbnails to swap â€¢ grid: 16px</div>

<script>
const IMAGES = [
  "images/process/ADT vision.png",
  "images/process/BMC - design.png",
  "images/process/criteriaforintake.png",
  "images/process/CRM.png",
  "images/process/gaps.png",
  "images/process/ladder.jpg",
  "images/process/ideally.jpg",
  "images/process/curriculum.png",
  "images/process/Datapoints.png",
  "images/process/GNC learning.png",
  "images/process/humaneval.png",
  "images/process/knowledge sharing.png",
  "images/process/Laddering Data.jpg",
  "images/process/manual.png",
  "images/process/medium is msg.png",
  "images/process/Name Parameters.png",
  "images/process/naming systems.png",
  "images/process/ourresources.png",
  "images/process/opp.png",
  "images/process/Persona.jpg",
  "images/process/playground UI.png",
  "images/process/Product Partnerships Data Knowledge.png",
  "images/process/Reach.png",
  "images/process/Reachout if.png",
  "images/process/Rules.png",
  "images/process/scales of a problem.png",
  "images/process/signals.png",
  "images/process/singlesource of truth.png",
  "images/process/dreaming sensing.png",
  "images/process/timeline.png",
  "images/process/types of slides.png",
  "images/process/vendorgrid.png",
  "images/process/whatwedonose.png",
  "images/process/XCapit.png",
  "images/process/x.png"
];

const GRID = 16;
const MAIN_SIZE = 25 * GRID; // 400px (25 grid units)
const THUMB_SIZE = 6 * GRID;  // 96px (6 grid units)

let mainIndex = 0;
const container = document.getElementById('container');

function gridSnap(value) {
  return Math.round(value / GRID) * GRID;
}

function getGridCoords(w, h, excludeZone = null) {
  const cols = Math.floor(w / GRID);
  const rows = Math.floor(h / GRID);
  const coords = [];
  
  for (let row = 0; row < rows; row++) {
    for (let col = 0; col < cols; col++) {
      const x = col * GRID;
      const y = row * GRID;
      
      // Skip if in exclude zone
      if (excludeZone) {
        const inZone = x < excludeZone.x + excludeZone.w &&
                       x + THUMB_SIZE > excludeZone.x &&
                       y < excludeZone.y + excludeZone.h &&
                       y + THUMB_SIZE > excludeZone.y;
        if (inZone) continue;
      }
      
      // Skip if too close to edges
      if (x + THUMB_SIZE > w || y + THUMB_SIZE > h) continue;
      
      coords.push({ x, y });
    }
  }
  
  return coords;
}

function shuffle(array) {
  const arr = [...array];
  for (let i = arr.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
  return arr;
}

function layout() {
  container.innerHTML = '';
  
  const vw = window.innerWidth;
  const vh = window.innerHeight;
  
  // Main image - centered and grid-aligned
  const mainX = gridSnap((vw - MAIN_SIZE) / 2);
  const mainY = gridSnap((vh - MAIN_SIZE) / 2);
  
  const mainBox = document.createElement('div');
  mainBox.className = 'image-box main';
  mainBox.style.left = mainX + 'px';
  mainBox.style.top = mainY + 'px';
  mainBox.style.width = MAIN_SIZE + 'px';
  mainBox.style.height = MAIN_SIZE + 'px';
  
  const mainImg = document.createElement('img');
  mainImg.src = IMAGES[mainIndex];
  mainBox.appendChild(mainImg);
  container.appendChild(mainBox);
  
  // Exclude zone around main image
  const excludeZone = {
    x: mainX - GRID * 2,
    y: mainY - GRID * 2,
    w: MAIN_SIZE + GRID * 4,
    h: MAIN_SIZE + GRID * 4
  };
  
  // Get available grid positions
  const available = shuffle(getGridCoords(vw, vh, excludeZone));
  
  // Place thumbnails
  IMAGES.forEach((src, i) => {
    if (i === mainIndex) return;
    if (available.length === 0) return;
    
    const pos = available.pop();
    
    const thumbBox = document.createElement('div');
    thumbBox.className = 'image-box thumb';
    thumbBox.style.left = pos.x + 'px';
    thumbBox.style.top = pos.y + 'px';
    thumbBox.style.width = THUMB_SIZE + 'px';
    thumbBox.style.height = THUMB_SIZE + 'px';
    
    const thumbImg = document.createElement('img');
    thumbImg.src = src;
    thumbBox.appendChild(thumbImg);
    
    thumbBox.addEventListener('click', () => {
      mainIndex = i;
      layout();
    });
    
    container.appendChild(thumbBox);
  });
}

layout();
window.addEventListener('resize', layout);
</script>

</body>
</html>
